webpackJsonp([1],{"0yJn":function(t,e){},"3Dis":function(t,e){},"5AqT":function(t,e){},CE0W:function(t,e){},D4uH:function(t,e,n){"use strict";var o={},i={name:"icon",props:{name:{type:String,validator:function(t){return t?t in o||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?o[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,n,o){var i="fa-"+(s++).toString(16);return e[o]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,n,o,i){var s=n||i;return s&&e[s]?"#"+e[s]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),o[e]=n}},icons:o},s=870711;var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,o){return n("path",t._b({key:"path-"+o},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,o){return n("polygon",t._b({key:"polygon-"+o},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]};var r=n("VU/8")(i,a,!1,function(t){n("5AqT")},null,null);e.a=r.exports},DyhG:function(t,e){},EU0z:function(t,e){},EnK6:function(t,e){},Gcye:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),i=n("Gu7T"),s=n.n(i),a=n("NYxO");o.a.use(a.a);var r=new a.a.Store({strict:!0,state:{mode:"desktop",background:"#FDFDFD",bkgForm:!1,rte:{show:!1,type:"text",x:null,y:null,el:null,design:null},rows:[]},getters:{rte:function(t){return t.rte},rows:function(t){return t.rows},background:function(t){return t.background},mode:function(t){return t.mode},bkgForm:function(t){return t.bkgForm}},mutations:{addRow:function(t,e){var n=e.row;t.rows.push(n)},addRows:function(t,e){var n=this;e.rows.forEach(function(t){n.commit("addRow",{row:t})})},removeRow:function(t,e){t.rows.splice(e,1)},copyRow:function(t,e){var n=t.rows[e];t.rows.push(n)},updateRow:function(t,e){var n=e.index,o=e.target,i=e.value;t.rows[n].props[o]=i},reorderRows:function(t,e){var n=e.oldIndex,o=e.newIndex,i=t.rows.find(function(t,e){return e===n}),a=t.rows.filter(function(t,e){return e!==n});t.rows=[].concat(s()(a.slice(0,o)),[i],s()(a.slice(o)))},updateColor:function(t,e){var n=e.index,o=e.color;t.rows[n].appearance.backgroundColor=o},updateBackground:function(t,e){var n=e.index,o=e.img;t.rows[n].appearance.background='transparent url("'+o+'") no-repeat center center',t.rows[n].appearance.backgroundSize="cover"},showRte:function(t,e){t.rte=e},changeBackground:function(t,e){t.background=e.hex},changeMode:function(t,e){t.mode=e},bkgForm:function(t,e){t.bkgForm=e}},actions:{loadRows:function(t){t.commit("addRows",{rows:[{type:"TitleBloc",props:{title:"Mon Super Titre"},appearance:{width:"100%",padding:"1em",backgroundColor:"#fff",maxWidth:"960px",margin:"0 auto",textAlign:"center",fontFamily:"sans-serif"}},{type:"ThreeColsBloc",props:{content1:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates vitae deserunt laborum adipisci veniam nemo quas perspiciatis officia! Velit odio ipsa illum molestiae laborum tenetur magni pariatur iure vero natus.",content2:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates vitae deserunt laborum adipisci veniam nemo quas perspiciatis officia! Velit odio ipsa illum molestiae laborum tenetur magni pariatur iure vero natus.",content3:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates vitae deserunt laborum adipisci veniam nemo quas perspiciatis officia! Velit odio ipsa illum molestiae laborum tenetur magni pariatur iure vero natus."},appearance:{width:"100%",padding:"1em",backgroundColor:"#fff",maxWidth:"960px",margin:"0 auto",fontFamily:"sans-serif",color:"#4d4d4d",textAlign:"center"}},{type:"TwoColsBloc",props:{content1:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates vitae deserunt laborum adipisci veniam nemo quas perspiciatis officia! Velit odio ipsa illum molestiae laborum tenetur magni pariatur laborum iure vero natus.",content2:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates vitae deserunt laborum adipisci veniam nemo quas perspiciatis officia! Velit odio ipsa illum molestiae laborum tenetur magni pariatur laborum iure vero natus."},appearance:{width:"100%",padding:"1em",backgroundColor:"#fff",maxWidth:"960px",margin:"0 auto",fontFamily:"sans-serif",color:"#4d4d4d"}}]})},addToRows:function(t,e){var n=e.row;t.commit("addRow",{row:n})},deleteRow:function(t,e){t.commit("removeRow",e)},copyRow:function(t,e){t.commit("copyRow",e)},reorderRows:function(t,e){t.commit("reorderRows",e)},displayRte:function(t,e){t.commit("showRte",e)},bkgForm:function(t,e){t.commit("bkgForm",e)},updateRow:function(t,e){t.commit("updateRow",e)},updateColor:function(t,e){t.commit("updateColor",e)},updateBackground:function(t,e){t.commit("updateBackground",e)}}}),l=n("Dd8w"),c=n.n(l),u=n("DAYN"),d=n.n(u),p=(n("nhyU"),n("CtZz"),n("D4uH")),h=n("mtWM"),m=n.n(h);function f(t){return m.a.post(BASE_URL,t).then(function(t){return t.data}).then(function(t){return t.url})}var v={name:"BkgImg",components:{Icon:p.a},props:{index:null,toColorize:null},data:function(){return{visible:!1}},computed:c()({},Object(a.b)(["bkgForm"])),methods:{changeBackground:function(){var t=this,e=document.getElementById("image").files[0],n=new FormData;n.append("image",e),e&&f(n).then(function(e){t.$store.dispatch("updateBackground",{index:t.index,img:e}),t.hideForm()})},showForm:function(){this.visible=!0,this.$store.dispatch("bkgForm",this.index)},hideForm:function(){this.visible=!1,this.$store.dispatch("bkgForm",!1)}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"konsepsyon__image"},[t.bkgForm===t.index||!1!==t.bkgForm?n("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.changeBackground(e)}}},[n("input",{attrs:{type:"file",id:"image",name:"image"}}),t._v(" "),n("button",[t._v("OK")]),t._v(" "),n("button",{staticClass:"konsepsyon__image__cancel",on:{click:function(e){return e.preventDefault(),t.hideForm(e)}}},[t._v("Annuler")])]):t._e(),t._v(" "),n("button",{on:{click:t.showForm}},[t.visible?t._e():n("icon",{attrs:{name:"image"}})],1)])},staticRenderFns:[]};var _=n("VU/8")(v,g,!1,function(t){n("EnK6")},null,null).exports,x=(n("FoHd"),{name:"Delete",props:{index:null},components:{Icon:p.a},methods:{deleteRow:function(){this.$store.dispatch("deleteRow",this.index)}}}),w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"row__delete",on:{click:this.deleteRow}},[e("icon",{attrs:{name:"trash-alt"}})],1)},staticRenderFns:[]};var y=n("VU/8")(x,w,!1,function(t){n("qQXQ")},null,null).exports,b=(n("IF6D"),{name:"Delete",props:{index:null},components:{Icon:p.a},methods:{deleteRow:function(){this.$store.dispatch("deleteRow",this.index)},copyRow:function(){this.$store.dispatch("copyRow",this.index)}}}),C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"row__copy",on:{click:this.copyRow}},[e("icon",{attrs:{name:"copy"}})],1)},staticRenderFns:[]};var k=n("VU/8")(b,C,!1,function(t){n("j58u")},null,null).exports,R=n("Zzkc"),B={name:"Color",components:{Compact:R.Compact},props:{index:null,toColorize:null},data:function(){return{color:"#ffffff"}},methods:{changeBackground:function(t){this.toColorize.style.backgroundColor=t.hex,this.$store.dispatch("updateColor",{index:this.index,color:t.hex})}}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"konsepsyon__color"},[e("Compact",{attrs:{value:this.color},on:{input:this.changeBackground}})],1)},staticRenderFns:[]};var F=n("VU/8")(B,T,!1,function(t){n("ir7R")},null,null).exports,E=(n("BMwm"),n("xjN/"),{name:"DragHand",props:{index:null,isLast:null},components:{Icon:p.a}}),D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"konsepsyon__draghand"},[this.index>0?e("icon",{attrs:{name:"angle-double-up"}}):this._e(),this._v(" "),this.isLast?this._e():e("icon",{attrs:{name:"angle-double-down"}})],1)},staticRenderFns:[]};var S=n("VU/8")(E,D,!1,function(t){n("3Dis")},null,null).exports,A={name:"Bloc",props:{isLast:!1,appearance:{},index:null,d:{}},components:{Delete:y,Copy:k,Color:F,DragHand:S,BkgImg:_},data:function(){return{data:{},showTools:!1,className:""}},mounted:function(){var t=this;this.data=JSON.parse(this.d),this.className=this._generateClassName(),this.$el.addEventListener("click",function(e){e.target.isContentEditable||t.hideRte()},!0),this.$el.addEventListener("mouseover",function(){t.showTools=!0},!1),this.$el.addEventListener("mouseleave",function(){t.showTools=!1},!1),this.$el.addEventListener("focusout",function(e){e.relatedTarget&&"konsepsyon__rte"===e.relatedTarget.parentNode.id||e.relatedTarget&&!(["imgUrl","linkifyInput","image","removeImgBtn","unlink"].indexOf(e.relatedTarget.id)<0)||t.hideRte()},!1)},computed:c()({},Object(a.b)(["rows","rte","bkgForm"])),methods:{onEdit:function(t){this.$store.dispatch("updateRow",{index:this.index,target:t.target.dataset.target,value:t.target.innerHTML})},displayRTE:function(t){var e=t.target,n=e.getBoundingClientRect(),o="text",i={};this.rte.el!==e&&("SPAN"===e.tagName&&(i=e.style,n=(e=e.parentNode).getBoundingClientRect()),"A"===e.tagName&&(i=e.style,o="link"),"FONT"===e.tagName&&(o="fz"),"IMG"===e.tagName&&(o="img")),this.$store.dispatch("displayRte",{show:!0,type:o,x:n.x+n.width/2,y:n.y,el:e,design:i})},hideRte:function(){this.$store.dispatch("displayRte",{show:!1,x:0,y:0,el:null})},_generateClassName:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e="",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}}},z={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},L=n("VU/8")(A,z,!1,null,null,null).exports,$={name:"TitleBloc",extends:L,data:function(){return{type:"TitleBloc",title:"Mon titre"}},methods:{toColorize:function(){return document.querySelector("."+this.className+"-one-row")}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{class:"row "+t.className+"-one-row",style:t.appearance},[n("tr",[n("td",[t.showTools?n("Delete",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("Copy",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("DragHand",{attrs:{index:t.index,isLast:t.isLast}}):t._e()],1)]),t._v(" "),n("tr",[n("td",[n("table",{style:{width:"100%",maxWidth:"960px",margin:"0 auto"}},[n("tr",[n("td",[n("h1",{attrs:{"data-target":"title",contenteditable:""},domProps:{innerHTML:t._s(t.data.title)},on:{blur:t.onEdit,click:t.displayRTE}})])])])])]),t._v(" "),n("tr",[n("td",[t.showTools?n("Color",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e(),t._v(" "),t.showTools||t.bkgForm===t.index?n("BkgImg",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e()],1)])])},staticRenderFns:[]},I=n("VU/8")($,N,!1,null,null,null).exports,V={name:"ThreeColsBloc",components:{DragHand:S},extends:L,data:function(){return{type:"ThreeColsBloc",style:{}}},methods:{toColorize:function(){return document.querySelector("."+this.className+"-three-row")}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{class:"row "+t.className+"-three-row",staticStyle:{width:"100%"},style:t.appearance},[n("tr",[n("td",[t.showTools?n("Delete",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("Copy",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("DragHand",{attrs:{index:t.index,isLast:t.isLast}}):t._e()],1)]),t._v(" "),n("tr",[n("td",[n("table",{style:{width:"100%",maxWidth:"960px",margin:"0 auto"}},[n("tr",{staticStyle:{"vertical-align":"top"}},[n("td",{staticClass:"responsive",staticStyle:{padding:"0 10px 0 0",width:"33%"}},[n("p",{attrs:{"data-target":"content1",contenteditable:""},domProps:{innerHTML:t._s(t.data.content1)},on:{blur:t.onEdit,click:t.displayRTE}})]),t._v(" "),n("td",{staticClass:"responsive",staticStyle:{padding:"0 10px",width:"33%"}},[n("p",{attrs:{"data-target":"content2",contenteditable:""},domProps:{innerHTML:t._s(t.data.content2)},on:{blur:t.onEdit,click:t.displayRTE}})]),t._v(" "),n("td",{staticClass:"responsive",staticStyle:{padding:"0 0 0 10px",width:"33%"}},[n("p",{attrs:{"data-target":"content3",contenteditable:""},domProps:{innerHTML:t._s(t.data.content3)},on:{blur:t.onEdit,click:t.displayRTE}})])])])])]),t._v(" "),n("tr",[n("td",[t.showTools?n("Color",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e(),t._v(" "),t.showTools||t.bkgForm===t.index?n("BkgImg",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e()],1)])])},staticRenderFns:[]},O=n("VU/8")(V,M,!1,null,null,null).exports,U={name:"TwoColsBloc",extends:L,data:function(){return{type:"TwoColsBloc"}},methods:{toColorize:function(){return document.querySelector("."+this.className+"-two-row")}}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{class:"row "+t.className+"-two-row",staticStyle:{width:"100%"},style:t.appearance},[n("tr",[n("td",[t.showTools?n("Delete",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("Copy",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("DragHand",{attrs:{index:t.index,isLast:t.isLast}}):t._e()],1)]),t._v(" "),n("tr",[n("td",[n("table",{style:{width:"100%",maxWidth:"960px",margin:"0 auto"},attrs:{slot:"test"},slot:"test"},[n("tr",{staticStyle:{"vertical-align":"top"}},[n("td",{staticClass:"responsive",staticStyle:{padding:"0 10px 0 0",width:"50%"}},[n("p",{attrs:{"data-target":"content1",contenteditable:""},domProps:{innerHTML:t._s(t.data.content1)},on:{blur:t.onEdit,click:t.displayRTE}})]),t._v(" "),n("td",{staticClass:"responsive",staticStyle:{padding:"0 10px",width:"50%"}},[n("p",{attrs:{"data-target":"content2",contenteditable:""},domProps:{innerHTML:t._s(t.data.content2)},on:{blur:t.onEdit,click:t.displayRTE}})])])])])]),t._v(" "),n("tr",[n("td",[t.showTools?n("Color",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e(),t._v(" "),t.showTools||t.bkgForm===t.index?n("BkgImg",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e()],1)])])},staticRenderFns:[]},W=n("VU/8")(U,H,!1,null,null,null).exports,j={name:"OneColBloc",extends:L,data:function(){return{type:"OneColBloc"}},methods:{toColorize:function(){return document.querySelector(".one-col-row")}}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"row one-col-row",staticStyle:{width:"100%"},style:{verticalAlign:"top",padding:"1em",backgroundColor:"#fff",margin:"0 auto",maxWidth:"960px"}},[n("tr",[n("td",[t.showTools?n("Delete",{attrs:{index:t.index}}):t._e(),t._v(" "),t.showTools?n("Copy",{attrs:{index:t.index}}):t._e()],1)]),t._v(" "),n("tr",[n("td",[n("table",{style:{width:"100%",maxWidth:"960px",margin:"0 auto"}},[n("tr",{staticStyle:{"vertical-align":"top"}},[n("td",{staticStyle:{padding:"0 10px 0 0",width:"50%"}},[n("p",{attrs:{"data-target":"content",contenteditable:""},on:{blur:t.onEdit,click:t.displayRTE}},[t._v(t._s(t.data.content))])])])])])]),t._v(" "),n("tr",[n("td",[t.showTools?n("Color",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e(),t._v(" "),t.showTools||t.bkgForm===t.index?n("BkgImg",{attrs:{toColorize:t.toColorize(),index:t.index}}):t._e()],1)])])},staticRenderFns:[]},P=n("VU/8")(j,q,!1,null,null,null).exports,J=(n("2bPe"),n("aTCU"),n("5eTd"),n("JQCr"),{name:"ToolsBoxTop",components:{Icon:p.a},computed:c()({},Object(a.b)(["mode"])),methods:c()({},Object(a.c)(["changeMode"]),{isActive:function(t){return this.mode===t?"active":""},hideEditables:function(){document.querySelectorAll("[contenteditable]").forEach(function(t){return t.classList.toggle("hide")})}})}),G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"konsepsyon__toolsbox--top",attrs:{id:"konsepsyon__toolsbox--top"}},[n("div",{staticClass:"konsepsyon__toolsbox--panel"},[n("button",{class:t.isActive("mobile"),on:{click:function(e){e.preventDefault(),t.changeMode("mobile")}}},[n("icon",{attrs:{name:"mobile-alt"}})],1),t._v(" "),n("button",{class:t.isActive("tablet"),on:{click:function(e){e.preventDefault(),t.changeMode("tablet")}}},[n("icon",{attrs:{name:"tablet-alt"}})],1),t._v(" "),n("button",{class:t.isActive("desktop"),on:{click:function(e){e.preventDefault(),t.changeMode("desktop")}}},[n("icon",{attrs:{name:"desktop"}})],1)]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox--panel"}),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox--panel"},[n("button",{on:{click:function(e){return e.preventDefault(),t.hideEditables(e)}}},[n("icon",{attrs:{name:"eye-slash"}})],1)])])},staticRenderFns:[]};var K=n("VU/8")(J,G,!1,function(t){n("S5nY")},"data-v-2d312db7",null).exports,Q=n("woOf"),X=n.n(Q),Y=(n("FNjd"),n("9l/l"),n("2xM6"),n("b4+G"),n("x0mf"),n("B8Lx"),n("vwXs"),n("LjeE"),n("rpnW"),n("1UlI"),n("D/Bo"),n("+IIz"),n("G4W2")),Z=n.n(Y),tt=n("R3sX"),et=n.n(tt),nt=(n("Z7gM"),{name:"Rte",components:{Icon:p.a,Compact:R.Compact,RangeSlider:Z.a},props:{show:Boolean,type:String,x:Number,y:0,el:null,design:{}},data:function(){return{sliderValue:"0",widthOffset:null,heightOffset:null,selection:null,editable:null,caretPosition:null,styles:null,selectionObj:null}},updated:function(){var t=this;document.activeElement.isContentEditable&&(this.editable=document.activeElement);var e=document.querySelectorAll(".vc-compact-color-item");e.forEach(function(e){e.removeEventListener("mousedown",t._preventBtnClick,!1)}),e.forEach(function(e){e.addEventListener("mousedown",t._preventBtnClick,!1)}),this.styles||(this.styles=this.design);try{this.widthOffset=this.$el.getBoundingClientRect().width/2,this.heightOffset=this.$el.getBoundingClientRect().height/2}catch(t){}},mounted:function(){var t=this;document.addEventListener("selectionchange",et()(function(){t._getSelectedText()},500),!1)},computed:{position:function(){return{left:this.x-this.widthOffset+"px",top:this.y-this.heightOffset-40+"px"}},isText:function(){return"text"===this.type},isLink:function(){return"link"===this.type},isImg:function(){return"img"===this.type||this.el.classList.contains("ksp__img")},isColor:function(){return"color"===this.type},isFz:function(){return"fz"===this.type},link:function(){return"img"===this.type?this.el.parentNode.href:this.el.href},isLeftActive:function(){var t=this.el.style.textAlign;return""===t||"left"===t?"active":""},isCenterActive:function(){return"center"===this.el.style.textAlign?"active":""},isRightActive:function(){return"right"===this.el.style.textAlign?"active":""},isJustifyActive:function(){return"justify"===this.el.style.textAlign?"active":""},isBoldActive:function(){return"bold"===this.el.style.fontWeight?"active":""},isItalizeActive:function(){return"italic"===this.el.style.fontStyle?"active":""}},methods:{alignLeft:function(t){this._align("left",t)},alignCenter:function(t){this._align("center",t)},alignRight:function(t){this._align("right",t)},alignJustify:function(t){this._align("justify",t)},italize:function(){document.execCommand("italic")},boldify:function(){this.selection?document.execCommand("bold"):this.el.style.fontWeight="bold"},headerify:function(){var t=this.design;t.fontWeight="bold",t.textTransform="uppercase",this._stilyze(t)},linkify:function(){this.range=this._saveSelection(),this._showRte("link")},changeColor:function(t){this.selection?document.execCommand("foreColor",!1,t.hex):this.el.style.color=t.hex},updateUrl:function(t){this._restoreSelection(this.range),document.execCommand("createLink",!1,t.target.value),this._hideRte()},image:function(){this.range=this._saveSelection(),this._showRte("img")},addImage:function(){var t=this,e=document.getElementById("image"),n=document.getElementById("imgUrl").value,o=e.files[0],i=new FormData,s='<a class="ksp__img" target="_blank" href="{{imgLink}}"><img style="max-width: 100%;" src="{{imgSrc}}"></a>';i.append("image",o),o&&f(i).then(function(e){t._restoreSelection(t.range),s=(s=n?s.replace("{{imgLink}}",n):s.replace("{{imgLink}}","")).replace("{{imgSrc}}",e),document.execCommand("insertHtml",!1,s),t._hideRte()})},removeImgLink:function(){document.getElementById("imgUrl").value="",this.el.parentNode.href=""},removeImg:function(){this.el.parentNode.remove(),this._hideRte()},sizing:function(){this.range=this._saveSelection(),this._showRte("fz")},updateFz:function(t){this._saveSelection(),document.execCommand("fontSize",!1,"+"+t)},_preventBtnClick:function(t){t.preventDefault()},_hideRte:function(){this.$store.dispatch("displayRte",{show:!1,type:"text",x:0,y:0,el:null})},_showRte:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||this.el,this.$store.dispatch("displayRte",{show:!0,type:t,x:this.x,y:this.y,el:e})},_getSelectedText:function(){if(this.editable){var t="",e=void 0;if(window.getSelection){if(!(e=window.getSelection()).rangeCount)return;if(e.getRangeAt(0).startContainer.parentNode!==this.editable)return;t=e.toString()}else document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text);return""!==t&&(this.selection=t,this.selectionObj=e),t}},_align:function(t){this._getSelectedText()?this._stilyze("text-align: "+t+";"):this.el.style.textAlign=t},_stilyze:function(t){var e=this.selection,n=document.createElement("span"),o=document.createTextNode(e);n.appendChild(o),X()(n.style,t),this._replaceText(n.outerHTML)},_generateClassName:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e="",n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},_replaceText:function(t){var e=void 0,n=void 0;if(window.getSelection){if((e=this.selectionObj||window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents();var o=document.createElement("div");o.innerHTML=t;for(var i=document.createDocumentFragment(),s=void 0,a=void 0;s=o.firstChild;)a=i.appendChild(s);n.insertNode(i),a&&((n=n.cloneRange()).setStartAfter(a),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(t)},_saveSelection:function(){if(window.getSelection){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount)return t.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},_restoreSelection:function(t){if(t)if(window.getSelection){var e=window.getSelection();e.removeAllRanges(),e.addRange(t)}else document.selection&&t.select&&t.select()}}}),ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"konsepsyon__rte",style:t.position,attrs:{id:"konsepsyon__rte"}},[t.isText||t.isColor?[n("button",{class:t.isLeftActive,on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.alignLeft(e)}}},[n("icon",{attrs:{name:"align-left"}})],1),t._v(" "),n("button",{class:t.isCenterActive,on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.alignCenter(e)}}},[n("icon",{attrs:{name:"align-center"}})],1),t._v(" "),n("button",{class:t.isRightActive,on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.alignRight(e)}}},[n("icon",{attrs:{name:"align-right"}})],1),t._v(" "),n("button",{class:t.isJustifyActive,on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.alignJustify(e)}}},[n("icon",{attrs:{name:"align-justify"}})],1),t._v(" "),n("span",{staticClass:"sep"}),t._v(" "),n("button",{on:{click:function(e){return e.preventDefault(),t.headerify(e)}}},[n("icon",{attrs:{name:"heading"}})],1),t._v(" "),n("button",{class:t.isItalizeActive,on:{click:function(e){return e.preventDefault(),t.italize(e)}}},[n("icon",{attrs:{name:"italic"}})],1),t._v(" "),n("button",{class:t.isBoldActive,on:{click:function(e){return e.preventDefault(),t.boldify(e)}}},[n("icon",{attrs:{name:"bold"}})],1),t._v(" "),n("button",{on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.linkify(e)}}},[n("icon",{attrs:{name:"link"}})],1),t._v(" "),n("button",{on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.sizing(e)}}},[n("icon",{attrs:{name:"font"}})],1),t._v(" "),n("span",{staticClass:"sep"}),t._v(" "),n("button",{on:{mousedown:function(e){return e.preventDefault(),t._preventBtnClick(e)},click:function(e){return e.preventDefault(),t.image(e)}}},[n("icon",{attrs:{name:"image"}})],1)]:t._e(),t._v(" "),t.isLink?[n("input",{attrs:{id:"linkifyInput",type:"text",placeholder:"https://google.fr"},domProps:{value:t.link},on:{change:t.updateUrl}}),t._v(" "),n("button",[t._v("OK")])]:t._e(),t._v(" "),t.isFz?[n("range-slider",{attrs:{min:"0",max:"4",step:"1"},on:{change:t.updateFz},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})]:t._e(),t._v(" "),t.isImg?[n("input",{staticClass:"large",class:t.link?"":" verry",attrs:{type:"text",id:"imgUrl",placeholder:"https://google.fr"},domProps:{value:t.link}}),t._v(" "),t.link?n("button",{staticClass:"unlink",attrs:{id:"unlink"},on:{click:function(e){return e.preventDefault(),t.removeImgLink(e)}}},[n("icon",{attrs:{name:"unlink"}})],1):t._e(),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"konsepsyon__rte__actions"},[n("button",{on:{click:function(e){return e.preventDefault(),t.addImage(e)}}},[n("icon",{attrs:{name:"check"}})],1),t._v(" "),n("button",{staticClass:"remove",attrs:{id:"removeImgBtn"},on:{click:function(e){return e.preventDefault(),t.removeImg(e)}}},[n("icon",{attrs:{name:"times"}})],1)])]:t._e(),t._v(" "),t.isColor||t.isText?[n("Compact",{attrs:{value:"#000"},on:{input:t.changeColor}})]:t._e()],2):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("form",{attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("input",{attrs:{type:"file",id:"image",name:"image"}})])}]};var it={name:"Preview",components:{ToolsBoxTop:K,TitleBloc:I,ThreeColsBloc:O,TwoColsBloc:W,OneColBloc:P,Rte:n("VU/8")(nt,ot,!1,function(t){n("CE0W")},null,null).exports,Draggable:d.a},data:function(){return{tables:[]}},computed:c()({},Object(a.b)(["rows","rte","background","mode"])),mounted:function(){this.$store.dispatch("loadRows"),this.tables=this.rows},methods:{updateOrder:function(t){this.$store.dispatch("reorderRows",t)}}},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"konsepsyon__preview",class:t.mode,style:{backgroundColor:t.background},attrs:{id:"konsepsyon__preview"}},[n("Rte",{attrs:{show:t.rte.show,x:t.rte.x,y:t.rte.y,el:t.rte.el,type:t.rte.type,design:t.rte.design}}),t._v(" "),n("ToolsBoxTop"),t._v(" "),n("table",{staticClass:"row main_row"},[n("tr",[n("td",[n("draggable",{on:{update:t.updateOrder},model:{value:t.tables,callback:function(e){t.tables=e},expression:"tables"}},t._l(t.rows,function(e,o){return n(t.$options.components[e.type],{key:o,tag:"component",attrs:{index:o,appearance:e.appearance,isLast:o===t.rows.length-1,d:JSON.stringify(e.props)}})}))],1)])])],1)},staticRenderFns:[]};var at=n("VU/8")(it,st,!1,function(t){n("Gcye")},null,null).exports,rt=(n("g+VN"),{name:"Button",components:{Icon:p.a},data:function(){return{data:{}}},methods:{add:function(){this.$store.dispatch("addToRows",{row:{type:this.type,props:this.data,appearance:this.appearance}})}}}),lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},ct=n("VU/8")(rt,lt,!1,null,null,null).exports,ut={extends:ct,name:"TitleButton",mounted:function(){this.type="TitleBloc",this.data={title:"Titre"},this.appearance={width:"100%",padding:"1em",backgroundColor:"#fff",maxWidth:"960px",margin:"0 auto"}}},dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"konsepsyon__toolsbox__button",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[n("icon",{attrs:{name:"heading",scale:"2"}}),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__button__title"},[t._v("Titre")])],1)},staticRenderFns:[]},pt=n("VU/8")(ut,dt,!1,null,null,null).exports,ht={extends:ct,name:"ThreeColsButton",mounted:function(){this.type="ThreeColsBloc",this.data={content1:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",content2:"Voluptatibus, cumque. Minus laboriosam est.",content3:"Vitae sunt odit aspernatur voluptate architecto incidunt!"},this.appearance={verticalAlign:"top",padding:"1em",backgroundColor:"#fff",margin:"0 auto",maxWidth:"960px"}}},mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"konsepsyon__toolsbox__button",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[n("svg",{attrs:{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("rect",{attrs:{height:"30",width:"13",y:"10",x:"1.5",fill:"#a0aabf"}}),t._v(" "),n("rect",{attrs:{height:"30",width:"13",y:"10",x:"18.5",fill:"#a0aabf"}}),t._v(" "),n("rect",{attrs:{height:"30",width:"13",y:"10",x:"35.5",fill:"#a0aabf"}})])]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__button__title"},[t._v("3 colonnes")])])},staticRenderFns:[]},ft=n("VU/8")(ht,mt,!1,null,null,null).exports,vt={extends:ct,name:"TwoColsButton",mounted:function(){this.type="TwoColsBloc",this.data={content1:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",content2:"Voluptatibus, cumque. Minus laboriosam est."},this.appearance={verticalAlign:"top",padding:"1em",backgroundColor:"#fff",margin:"0 auto",maxWidth:"960px"}}},gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"konsepsyon__toolsbox__button",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[n("svg",{attrs:{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("rect",{attrs:{id:"svg_3",height:"30",width:"13",y:"10",x:"10","stroke-width":"1.5",fill:"#a0aabf"}}),t._v(" "),n("rect",{attrs:{id:"svg_2",height:"30",width:"13",y:"10",x:"27","stroke-width":"1.5",fill:"#a0aabf"}})])]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__button__title"},[t._v("2 colonnes")])])},staticRenderFns:[]},_t=n("VU/8")(vt,gt,!1,null,null,null).exports,xt={extends:ct,name:"OneColButton",mounted:function(){this.type="OneColBloc",this.data={content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit."},this.appearance={verticalAlign:"top",padding:"1em",backgroundColor:"#fff",margin:"0 auto",maxWidth:"960px"}}},wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"konsepsyon__toolsbox__button",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[n("svg",{attrs:{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("rect",{attrs:{height:"30",width:"13",y:"10",x:"18.5","stroke-width":"1.5",fill:"#a0aabf"}})])]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__button__title"},[t._v("1 colonne")])])},staticRenderFns:[]},yt=n("VU/8")(xt,wt,!1,null,null,null).exports,bt=n("f1Ea"),Ct={name:"editableInput",props:{label:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get:function(){return this.value},set:function(t){if(!(void 0!==this.max&&+t>this.max))return t;this.$refs.input.value=this.max}}},methods:{update:function(t){this.handleChange(t.target.value)},handleChange:function(t){var e={};e[this.label]=t,void 0===e.hex&&void 0===e["#"]?this.$emit("change",e):t.length>5&&this.$emit("change",e)},handleBlur:function(t){console.log(t)},handleKeyDown:function(t){var e=this.val,n=Number(e);if(n){var o=this.arrowOffset||1;38===t.keyCode&&(e=n+o,this.handleChange(e),t.preventDefault()),40===t.keyCode&&(e=n-o,this.handleChange(e),t.preventDefault())}},handleDrag:function(t){console.log(t)},handleMouseDown:function(t){console.log(t)}}},kt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-editable-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],ref:"input",staticClass:"vc-input__input",attrs:{"aria-label":t.value},domProps:{value:t.val},on:{keydown:t.handleKeyDown,input:[function(e){e.target.composing||(t.val=e.target.value)},t.update]}}),t._v(" "),n("span",{staticClass:"vc-input__label"},[t._v(t._s(t.label))]),t._v(" "),n("span",{staticClass:"vc-input__desc"},[t._v(t._s(t.desc))])])},staticRenderFns:[]};var Rt=n("VU/8")(Ct,kt,!1,function(t){n("RVQm")},null,null).exports,Bt=["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],Tt={name:"Compact",mixins:[bt.a],props:{palette:{type:Array,default:function(){return Bt}}},components:{"ed-in":Rt},computed:{pick:function(){return this.colors.hex}},methods:{handlerClick:function(t){this.colorChange({hex:t,source:"hex"})}}},Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-compact"},[n("ul",{staticClass:"vc-compact-colors"},t._l(t.palette,function(e){return n("li",{key:e,staticClass:"vc-compact-color-item",class:{"vc-compact-color-item--white":"#FFFFFF"===e},style:{background:e},on:{click:function(n){t.handlerClick(e)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e===t.pick,expression:"c === pick"}],staticClass:"vc-compact-dot"})])}))])},staticRenderFns:[]};var Et={name:"ToolsBox",components:{OneColBloc:P,Compact:n("VU/8")(Tt,Ft,!1,function(t){n("DyhG")},null,null).exports,Icon:p.a,ThreeColsButton:ft,TwoColsButton:_t,OneColButton:yt,TitleButton:pt},computed:c()({},Object(a.d)(["rows","background"])),methods:c()({},Object(a.c)(["changeBackground"]),{save:function(){var t,e=document.getElementById("konsepsyon__preview").querySelector(".main_row");e.style.width="100%",e.style.margin="0 auto",t=e.outerHTML.replace(/<!---->/g,"").replace(/(<tr><td>\s*<\/td><\/tr>)/g,""),console.log(t)}})},Dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"konsepsyon__toolsbox",attrs:{id:"konsepsyon__toolsbox"}},[n("div",{staticClass:"konsepsyon__toolsbox__title"},[t._v("Paramètres")]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__section"},[t._v("\n        Couleur de fond :\n        "),n("compact",{attrs:{value:t.background},on:{input:t.changeBackground}})],1),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__title"},[t._v("Textes")]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__section"},[n("TitleButton")],1),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__title"},[t._v("Colonnes")]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__section"},[n("ThreeColsButton"),t._v(" "),n("TwoColsButton"),t._v(" "),n("OneColButton")],1),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__title"},[t._v("Actions")]),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__section"},[n("button",{on:{click:t.save}},[n("icon",{attrs:{name:"save",scale:"2"}}),t._v(" "),n("div",{staticClass:"konsepsyon__toolsbox__button__title"},[t._v("Sauvegarder")])],1)])])},staticRenderFns:[]};var St={name:"Konsepsyon",components:{Preview:at,ToolsBox:n("VU/8")(Et,Dt,!1,function(t){n("EU0z")},"data-v-0e98db1b",null).exports}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"konsepsyon",attrs:{id:"konsepsyon"}},[e("Preview"),this._v(" "),e("ToolsBox")],1)},staticRenderFns:[]};var zt=n("VU/8")(St,At,!1,function(t){n("0yJn")},null,null).exports;o.a.config.productionTip=!1,window.BASE_URL="http://localhost:8000/uploadImg.php",String.prototype.splice||(String.prototype.splice=function(t,e,n){return this.slice(0,t)+n+this.slice(t+Math.abs(e))}),new o.a({el:"#app",components:{Konsepsyon:zt},store:r})},RVQm:function(t,e){},S5nY:function(t,e){},Z7gM:function(t,e){},ir7R:function(t,e){},j58u:function(t,e){},qQXQ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e5ca0eca3db3969cac28.js.map